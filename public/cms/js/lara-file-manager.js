(()=>{function e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function t(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}$((function(){var a=$("#filemanager");$(".filemanager-select").on("click",(function(i){i.preventDefault(),a.modal("show");var n=$(this).data("input"),l=$("input[name="+n+"]").val(),r=function(a){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?e(Object(n),!0).forEach((function(e){t(a,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(n,e))}))}return a}({},this.dataset);$("input[name=file-input]",a).val(n),$("input[name=file-value]",a).val(l),window.emitterHub.emit("FILE_MANAGER_INIT",l,r),0!=l&&$("#file-manager-list").click()})),$("input[name=upload-input]",a).uploadifive({auto:!0,queueID:"queue-modal",uploadScript:urlAjaxHandlerCms+"filemanager/upload",onAddQueueItem:function(e){this.data("uploadifive").settings.formData={_token:$("[name=_token]").val()}},onUploadComplete:function(e,t){var i=jQuery.parseJSON(t);i.data;$("input[name=file-value]",a).val(i.id),$("#file-manager-list").trigger("click")}}),$("#file-manager-list").on("click",(function(e){window.emitterHub.emit("FILE_MANAGER_LOAD_LIST");var t=$("input[name=file-value]").val();$(".modal-footer",a).removeClass("visually-hidden"),0!=t&&($("#file-manager-upload",a).removeClass("active"),$("#file-manager-list",a).addClass("active"),$("#tab-upload",a).removeClass("active show"),$("#tab-images",a).addClass("active show"),window.emitterHub.emit("FILE_MANAGER_UPDATE_SIDE_BAR",t),window.emitterHub.emit("FILE_MANAGER_SELECT_ITEM",t))})),$(".reset-image",a).on("click",(function(e){e.preventDefault(),window.emitterHub.emit("FILE_MANAGER_RESET")})),$(".confirm-image",a).on("click",(function(e){e.preventDefault(),$("input[name="+$("input[name=file-input]",a).val()+"]").val($("input[name=file-value]",a).val()),a.modal("hide")})),$("#filemanager").on("hidden.bs.modal",(function(){$("#tab-upload",a).addClass("active show"),$("#tab-images",a).removeClass("active show"),$("#file-manager-upload",a).addClass("active"),$("#file-manager-list",a).removeClass("active"),window.emitterHub.emit("FILE_MANAGER_UPDATE_SIDE_BAR",null)}))}))})();